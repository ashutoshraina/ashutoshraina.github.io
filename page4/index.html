<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <meta http-equiv="last-modified" content="2014-05-03T14:06:52.5287702+05:30" />
    <title>Ashutosh Raina</title>
    <link rel="stylesheet" type="text/css" href="/stylesheets/style.css" />
    <link rel="shortcut icon" href="/stylesheets/images/me.png" type="image/png">
    <link rel="shortcut icon" type="image/png" href="/stylesheets/images/me.png" />
	<link rel="stylesheet" type="text/css" href="/stylesheets/font-awesome/css/font-awesome.min.css" />
    <link rel="canonical" href="http://ashutoshraina.github.io/page4/" />
</head>
<body class="home blog">
    <div id="page" class="hfeed site">
        <header id="masthead" class="site-header fancy-container lightgreen" role="banner">
            <hgroup>
                <h1 class="site-title"><a href="/" title="ashutoshraina.github.io" rel="home">Ashutosh Raina</a></h1>
                <h2 class="site-title"><small>For those who are still chasing</small></h2>
                <p class="site-description">I love french fries!!</p>
            </hgroup>
            <nav role="navigation" class="site-navigation main-navigation">
                <h1 class="assistive-text">Menu</h1>
                <div class="assistive-text skip-link"><a href="#content" title="Skip to content">Skip to    content</a>
                </div>
                <div class="menu">
                    <ul>
						<li><a href="/" class="home"><i class="fa fa-home"></i></a></li>
                        <li><a href="/about">About</a></li>
                        <li><a href="/category">Categories</a></li>
                        <li><a href="/archive">Archive</a></li>
                        <li><a href="/feed.xml">RSS/Atom</a></li>
                    </ul>
                </div>
            </nav>
        </header>

        <div id="main">

            <div id="primary" class="site-content">
                <div id="content" role="main">
                  

  <ul class="posts">
    <li class="post">
      <h1><a href="/2013/10/mongodb-csharp-driver-part2/">MongoDB-CSharp-Driver Getting organised</a></h1> 
      <div class="meta">
        <p class="posted">04 Oct 2013</p>
        <ul class="categories">
          <li><a href="/category/.net" title=".net">.net</a></li>
          <li><a href="/category/CSharp" title="CSharp">CSharp</a></li>
          <li><a href="/category/mongodb" title="mongodb">mongodb</a></li>
          <li><a href="/category/opensource" title="opensource">opensource</a></li>
        </ul>
      </div>
      <ul class="snow-series"><li><a href="/2013/10/mongodb-csharp-driver-part1/">Part 1 - Using Linq</a></li><li>Part 2 - Getting organised</li><li><a href="/2013/10/mongodb-csharp-driver-part3/">Part 3 - Getting Started</a></li></ul>
      <p>Having done the inital work for talking to MongoDB we can now create some POCO classes and then do some querying on top of it. As usual, my model is Questions and Users.</p>

<pre><code>public class Question : MongoEntity
{
    public string Text { get; set; }
    public string Answer { get; set; }
    public DateTime CreatedOn { get; set; }
    public int Difficulty { get; set; }
}
public class User : MongoEntity
{
    public string Name { get; set; }
    public int Reputation { get; set; }
}
</code></pre>


      <p><a href="/2013/10/mongodb-csharp-driver-part2/">Read more...</a></p>
    </li>
    <hr/>
    <li class="post">
      <h1><a href="/2013/10/mongodb-csharp-driver-part3/">MongoDB-CSharp-Driver-Using Linq</a></h1> 
      <div class="meta">
        <p class="posted">04 Oct 2013</p>
        <ul class="categories">
          <li><a href="/category/.net" title=".net">.net</a></li>
          <li><a href="/category/CSharp" title="CSharp">CSharp</a></li>
          <li><a href="/category/mongodb" title="mongodb">mongodb</a></li>
          <li><a href="/category/opensource" title="opensource">opensource</a></li>
        </ul>
      </div>
      <ul class="snow-series"><li><a href="/2013/10/mongodb-csharp-driver-part1/">Part 1 - Using Linq</a></li><li><a href="/2013/10/mongodb-csharp-driver-part2/">Part 2 - Getting organised</a></li><li>Part 3 - Getting Started</li></ul>
      <p>In the previous post we have seen some simple queries. It is time we move onto something more concrete and realistic. There are basically two ways of querying MongoDB with the driver. First, as I showed last time is using LINQ. To use LINQ we need to first move into the Queryable world and then proceed with actual querying.
Be careful about pulling all the documents locally and then performing operations on them. What we really want to do is offload all our querying to MongoDB and then only use the results. The driver implements the IQueryable interface and hence we should use it.</p>

<pre><code>var result = UserConnectionHandler.MongoCollection.AsQueryable()
                                  .Where(u =&gt; u.Reputation &gt; reputation);
</code></pre>


      <p><a href="/2013/10/mongodb-csharp-driver-part3/">Read more...</a></p>
    </li>
    <hr/>
    <li class="post">
      <h1><a href="/2013/10/mongodb-csharp-driver-part1/">MongoDB-CSharp-Driver Getting started</a></h1> 
      <div class="meta">
        <p class="posted">03 Oct 2013</p>
        <ul class="categories">
          <li><a href="/category/.net" title=".net">.net</a></li>
          <li><a href="/category/CSharp" title="CSharp">CSharp</a></li>
          <li><a href="/category/mongodb" title="mongodb">mongodb</a></li>
          <li><a href="/category/opensource" title="opensource">opensource</a></li>
        </ul>
      </div>
      <ul class="snow-series"><li>Part 1 - Using Linq</li><li><a href="/2013/10/mongodb-csharp-driver-part2/">Part 2 - Getting organised</a></li><li><a href="/2013/10/mongodb-csharp-driver-part3/">Part 3 - Getting Started</a></li></ul>
      <p>There are several drivers available for C#. I do not plan to go thorugh all of them here. Since, the official driver now has LINQ(although not complete yet) support, we will go with it.
Basic Setup..get the stuff of NuGet. It should put in two dll's in there 
1. MongoDB.Bson
2. MongoDB.Driver</p>

<p>We will get to what does what later. For now assume that we only want to get some data in and out of MongoDB.
Let's connect to MongoDB now(the code below is just quick and dirty, we will see a better version later).</p>

<pre><code>//MongoDB should be running by now, and assuming you have inserted some documents in there
var client = new MongoClient(@"mongodb://localhost");
var server = client.GetServer();
var database = server.GetDatabase("YourDataBaseName");
var mongoCollection = database.GetCollection("SomeCollectionName");
//Getting all the documents
var cursor = mongoCollection.AsQueryable();
cursor.ForEach(Console.WriteLine);  
</code></pre>


      <p><a href="/2013/10/mongodb-csharp-driver-part1/">Read more...</a></p>
    </li>
    <hr/>
    <li class="post">
      <h1><a href="/2013/10/mongodb-schemadesign/">MongoDB-Schema Design</a></h1> 
      <div class="meta">
        <p class="posted">02 Oct 2013</p>
        <ul class="categories">
          <li><a href="/category/.net" title=".net">.net</a></li>
          <li><a href="/category/CSharp" title="CSharp">CSharp</a></li>
          <li><a href="/category/mongodb" title="mongodb">mongodb</a></li>
          <li><a href="/category/opensource" title="opensource">opensource</a></li>
        </ul>
      </div>
      
      <p>This is a short post on Schema Design.</p>

<p>Schema Design in MongoDB</p>

<ul>
<li>Application Driven Schema is the best way to store data in MongoDB</li>
<li>MongoDB stores rich documents i.e. store embedded documents , arrays etc..</li>
<li>Joins happen at the application level not at the database level.</li>
<li>There are no constraints in the database.</li>
<li>No support for transactions.</li>
<li>Support for Atomic present operations is present.</li>
<li>Tip : Embed as much as you can.</li>
</ul>

<p>
      <p><a href="/2013/10/mongodb-schemadesign/">Read more...</a></p>
    </li>
    <hr/>
    <li class="post">
      <h1><a href="/2013/10/mongodb-query/">MongoDB-Query</a></h1> 
      <div class="meta">
        <p class="posted">01 Oct 2013</p>
        <ul class="categories">
          <li><a href="/category/.net" title=".net">.net</a></li>
          <li><a href="/category/CSharp" title="CSharp">CSharp</a></li>
          <li><a href="/category/mongodb" title="mongodb">mongodb</a></li>
          <li><a href="/category/opensource" title="opensource">opensource</a></li>
        </ul>
      </div>
      
      <p>Hopefully, the MongoDB set up in the last post is still working.
Let's create a database and name it <em>Awesome</em>(just because we can).</p>

<pre><code>&gt; use Awesome
switched to db Awesome
</code></pre>

<p>
      <p><a href="/2013/10/mongodb-query/">Read more...</a></p>
    </li>
    <hr/>
  </ul> 

  <!-- Pagination links -->
  <div id="post-pagination" class="pagination">

   
      <p class="previous">
        <a href="/page3">Previous Page</a>
        </p>


    <p class="previous">
      <a href="/page5">Next Page</a>
    </p>

  </div>


                </div>
                <!-- #content -->
            </div>
            <!-- #primary .site-content -->      
        <!-- #main -->

        <footer id="colophon" class="site-footer" role="contentinfo">
            <div class="site-info">
                Powered by <a href="https://github.com/Sandra/Sandra.Snow" rel="generator">Sandra.Snow</a>.	
            </div>
            <!-- .site-info -->
        </footer>
        <!-- #colophon .site-footer -->
    </div>
    <!-- #page .hfeed .site -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src='/javascripts/prettify.js' type='text/javascript'></script>
    
    <script type="text/javascript">
var _gaq = _gaq || [];

_gaq.push(['_setAccount', 'UA-46699881-1']);
_gaq.push(['_trackPageview']);
        
(function () {
    var ga = document.createElement('script');
    ga.type = 'text/javascript';
    ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(ga, s);
})();
</script>
    
    <script type='text/javascript'>
      $(function () {
        $("pre code").parent().each(function () {
          if (!$(this).hasClass("prettyprint")) {
            $(this).addClass("prettyprint");
            a = true
          }
        });

        prettyPrint();
      });
    </script>
</body>
</html>
